<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Doctor Dashboard</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/utilities.css">
    <link rel="stylesheet" href="../css/dashboard_style.css">
</head>
<body>
    <ol style="--length: 4" role="list">
        <!-- Today's Appointments -->
        
        <li style="--i: 1">
            <h1 class="text-white">Today's Appointments</h1>
            <ul id="todays-appointments">
                <li class="text-white">Appointment with John Doe at 10:00 AM</li>
                <li class="text-white">Appointment with Jane Doe at 11:00 AM</li>
                <!-- More appointments can be added here -->
            </ul>
        </li>

        <!-- Pending Appointments -->
        <li style="--i: 2">
            <h1 class="text-white">Pending Appointments</h1>
            <ul id="pending-appointments">
                <li class="text-black">Appointment with Alex Johnson at 2:00 PM</li>
                <li class="text-black">Appointment with Emily White at 3:00 PM</li>
                <!-- Pending appointments will be appended here by JavaScript -->
            </ul>
        </li>

        <!-- Emergency Availability -->
        <li style="--i: 3">
            <h1 class="text-white">Emergency Availability</h1>
            <p id="emergency-availability" class="text-white">
                Available today from 4:00 PM to 6:00 PM
            </p> 
        </li>

        <!-- Other Sections... -->
        <!-- Add other sections as per your requirements -->
    </ol>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            fetchAppointments('todays-appointments', '/api/appointments/today');
            fetchAppointments('pending-appointments', '/api/appointments/pending');
            fetchEmergencyAvailability();
        });

        async function fetchAppointments(elementId, apiEndpoint) {
            try {
                const response = await fetch(apiEndpoint);
                const appointments = await response.json();

                const ul = document.getElementById(elementId);
                appointments.forEach(appointment => {
                    const li = document.createElement('li');
                    li.textContent = `Appointment with ${appointment.patientName} at ${appointment.time}`;
                    ul.appendChild(li);
                });
            } catch (error) {
                console.error('Error fetching appointments:', error);
            }
        }

        async function fetchEmergencyAvailability() {
            try {
                const response = await fetch('/api/doctor/emergency-availability');
                const { isAvailable } = await response.json();

                const p = document.getElementById('emergency-availability');
                p.textContent = isAvailable ? 'Available for emergencies' : 'Not available for emergencies';
            } catch (error) {
                console.error('Error fetching emergency availability:', error);
            }
        }
    </script>
</body>
</html> 



